<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script data-require="angular.js@1.3.10" data-semver="1.3.10" src="https://code.angularjs.org/1.3.10/angular.js"></script>
    <script type="text/javascript" src="script.js"></script>
    <title>Waitstaff Calculator</title>
  </head>

  <body ng-app="myApp" ng-controller="myCtrl">
      <div id="content">
        <div id="header">
          <h1>Waitstaff Calculator</h1>
        </div>
        <div id="main">
          <section id="dataEntry">
            <h2>Enter the Meal Details</h2>
            <form name="thisForm" novalidate>
            <table>
              <tr>
                <td><label for="base">Base Meal Price: $</label></td>
                <td><input type="number" name="base" ng-model="meal.base" required>
                <div class="error" ng-show="thisForm.$submitted && thisForm.base.$invalid">Hey, c'mon enter a number here please!</div>
                </td>
              </tr>
              <tr>
                <td><label for="tax">Tax Rate: %</label></td>
                <td><input type="number" name="tax" ng-model="meal.tax" required>
                <div class="error" ng-show="thisForm.$submitted && thisForm.tax.$invalid">Hey, c'mon enter a number here please!</div>
              </td>
              </tr>
              <tr>
                <td><label for="tip">Tip Percentage: %</label></td>
                <td><input type="number" name="tip" ng-model="meal.tip" required>
                  <div class="error" ng-show="thisForm.$submitted && thisForm.tip.$invalid">Hey, c'mon enter a number here please!</div>
                </td>
              </tr>
              <tr>
                <td colspan="2"><button type="submit" ng-click="calculate(thisForm)">Calculate</button>
            <button type="button" ng-click="meal.base=null;meal.tip=null;meal.tax=null">Clear</button></td>
                
              </tr>
            </table>
            {{thisForm.$valid}}
            Base ={{meal.base}}
            Tax={{meal.tax}}
            Tip={{meal.tip}}
            </form>
          </section> 
          <section id="custCharges">
            <h2>Customer Charges</h2>
            <table>
              <tr>
                <td>SubTotal</td>
                <td class="text-right">{{meal.subtotal | currency}}</td>
              </tr>
              <tr>
                <td>Tip</td>
                <td class="text-right">{{meal.tip | currency}}</td>
              </tr>
              <tr>
                <td>Total</td>
                <td class="text-right">{{meal.total | currency}}</td>
              </tr>
            </table>
          </section>
          <section id="myEarnings">
           <h2>My Earnings Info</h2>
            <table>
              <tr>
                <td>Tip Total</td>
                <td>{{meal.myEarnings | currency}}</td>
              </tr>
              <tr>
                <td>Meal Count</td>
                <td>{{meal.meals}}</td>
              </tr>
              <tr>
                <td>Average Tip Per Meal</td>
                <td>{{meal.avgTip | currency }}</td>
              </tr>
            </table>
          </section>

        <section id="reset">
          <button ng-disabled="thisForm.$pristine" ng-click="reset()">Reset</button>
        </section>
            
                            
        <div id="mentor clearfix">
  
          <h3>Mentor Comments:</h3>
          <p>I think I have the angular stuff done, but I'd like your feedback as to best practice. Loads of comments and mostly none are angular ones. First of all the correct way to handle positioning - WWRD?. I used tables a "no-no" but how would you do it. then the ng-submit on the form with a submit button vs. a ng-click for the button? Handling the formulas. I originally had 3 functions and combined that into one calculate function. Geez, I really need to refresh on js. Maybe I also need time with gh (And when you complete this project, push your master branch up to Github and create a gh-pages branch so you can share a working version of the page. Share a link to both the repo and the gh-page with your mentor and fellow students to get feedback) ? Is my method of controlling the "calculate" function the best way? Found some interesting code for <a href="http://www.angularjshub.com/examples/forms/formreset/">resetting the form</a> and also doing ng-disabled on the reset button. Drat the damn location of the reset button and the mentor section. The div extends all the way to the top because the other sections above are floating.</p>

          <p>{{meal}}</p>
          <p>{{thisForm | json}}</p>

          
        </div>



      </div> <!-- end of content    -->

  </body>

</html>
